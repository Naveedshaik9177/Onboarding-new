{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\naveedshaik\\\\Downloads\\\\Onboarding9177\\\\Onboarding-4946-main\\\\src\\\\MultiStepForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport Step1 from './components/Step1';\nimport Step2 from './components/Step2';\nimport Step3 from './components/Step3';\nimport Step4 from './components/Step4';\nimport Step5 from './components/Step5';\nimport './MultiStepForm.css';\nimport initialImage from './image (2).png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MultiStepForm = () => {\n  _s();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [direction, setDirection] = useState('forward');\n  const [showImage, setShowImage] = useState(true);\n  const [formData, setFormData] = useState({\n    step1: {},\n    step2: {},\n    step3: {},\n    step4: {}\n  });\n  useEffect(() => {\n    // Load any offline data from localStorage\n    const offlineData = localStorage.getItem('offlineFormData');\n    if (offlineData) {\n      setFormData(JSON.parse(offlineData));\n    }\n  }, []);\n  const sendDataToBackend = async data => {\n    try {\n      const response = await fetch('http://localhost:3001/submit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      });\n      if (!response.ok) {\n        throw new Error('Failed to send data to backend');\n      }\n      console.log('Data sent successfully');\n      // Clear offline data after successful submission\n      localStorage.removeItem('offlineFormData');\n    } catch (error) {\n      console.error('Error sending data to backend:', error);\n      // Save data offline if submission fails\n      saveDataOffline(data);\n    }\n  };\n  const saveDataOffline = data => {\n    localStorage.setItem('offlineFormData', JSON.stringify(data));\n  };\n  const handleNext = stepData => {\n    if (currentStep < steps.length - 1) {\n      setDirection('forward');\n      setCurrentStep(currentStep + 1);\n      const updatedFormData = {\n        ...formData,\n        [`step${currentStep + 1}`]: stepData\n      };\n      setFormData(updatedFormData);\n      if (currentStep === 3) {\n        // Final step completed, trigger form submission\n        handleSubmit(updatedFormData);\n      }\n    }\n  };\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setDirection('backward');\n      setCurrentStep(currentStep - 1);\n    }\n  };\n  const handleSubmit = finalFormData => {\n    const dataToSubmit = {\n      step1: finalFormData.step1,\n      step2: finalFormData.step2,\n      step3: finalFormData.step3,\n      step4: finalFormData.step4\n    };\n    sendDataToBackend(dataToSubmit);\n  };\n  const steps = [/*#__PURE__*/_jsxDEV(Step1, {\n    onNext: data => handleNext(data),\n    data: formData.step1\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Step2, {\n    onNext: data => handleNext(data),\n    onBack: handleBack,\n    data: formData.step2\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Step3, {\n    onNext: data => handleNext(data),\n    onBack: handleBack,\n    data: formData.step3\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Step4, {\n    onNext: data => handleNext(data),\n    onBack: handleBack,\n    data: formData.step4\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 96,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(Step5, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this)];\n  useEffect(() => {\n    if (currentStep === 0) {\n      const timer = setTimeout(() => {\n        setShowImage(false);\n      }, 2000);\n      return () => clearTimeout(timer);\n    }\n  }, [currentStep]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"multi-step-form-container\",\n    children: [showImage && currentStep === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"initial-image-container\",\n      children: /*#__PURE__*/_jsxDEV(LazyLoadImage, {\n        src: initialImage,\n        alt: \"Initial Step\",\n        effect: \"blur\",\n        className: `initial-image ${!showImage ? 'hide' : ''}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(TransitionGroup, {\n      children: /*#__PURE__*/_jsxDEV(CSSTransition, {\n        timeout: 500,\n        classNames: direction === 'forward' ? 'slide-right' : 'slide-left',\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"step\",\n          children: steps[currentStep]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)\n      }, currentStep, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(MultiStepForm, \"RCT7+vGj91reqI7cr9Q5gaGFvtE=\");\n_c = MultiStepForm;\nexport default MultiStepForm;\nvar _c;\n$RefreshReg$(_c, \"MultiStepForm\");","map":{"version":3,"names":["React","useState","useEffect","CSSTransition","TransitionGroup","LazyLoadImage","Step1","Step2","Step3","Step4","Step5","initialImage","jsxDEV","_jsxDEV","MultiStepForm","_s","currentStep","setCurrentStep","direction","setDirection","showImage","setShowImage","formData","setFormData","step1","step2","step3","step4","offlineData","localStorage","getItem","JSON","parse","sendDataToBackend","data","response","fetch","method","headers","body","stringify","ok","Error","console","log","removeItem","error","saveDataOffline","setItem","handleNext","stepData","steps","length","updatedFormData","handleSubmit","handleBack","finalFormData","dataToSubmit","onNext","fileName","_jsxFileName","lineNumber","columnNumber","onBack","timer","setTimeout","clearTimeout","className","children","src","alt","effect","timeout","classNames","_c","$RefreshReg$"],"sources":["C:/Users/naveedshaik/Downloads/Onboarding9177/Onboarding-4946-main/src/MultiStepForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { CSSTransition, TransitionGroup } from 'react-transition-group';\nimport { LazyLoadImage } from 'react-lazy-load-image-component';\nimport 'react-lazy-load-image-component/src/effects/blur.css';\nimport Step1 from './components/Step1';\nimport Step2 from './components/Step2';\nimport Step3 from './components/Step3';\nimport Step4 from './components/Step4';\nimport Step5 from './components/Step5';\nimport './MultiStepForm.css';\nimport initialImage from './image (2).png';\n\nconst MultiStepForm = () => {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [direction, setDirection] = useState('forward');\n  const [showImage, setShowImage] = useState(true);\n  \n  const [formData, setFormData] = useState({\n    step1: {},\n    step2: {},\n    step3: {},\n    step4: {}\n  });\n\n  useEffect(() => {\n    // Load any offline data from localStorage\n    const offlineData = localStorage.getItem('offlineFormData');\n    if (offlineData) {\n      setFormData(JSON.parse(offlineData));\n    }\n  }, []);\n\n  const sendDataToBackend = async (data) => {\n    try {\n      const response = await fetch('http://localhost:3001/submit', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n      });\n      if (!response.ok) {\n        throw new Error('Failed to send data to backend');\n      }\n      console.log('Data sent successfully');\n      // Clear offline data after successful submission\n      localStorage.removeItem('offlineFormData');\n    } catch (error) {\n      console.error('Error sending data to backend:', error);\n      // Save data offline if submission fails\n      saveDataOffline(data);\n    }\n  };\n\n  const saveDataOffline = (data) => {\n    localStorage.setItem('offlineFormData', JSON.stringify(data));\n  };\n\n  const handleNext = (stepData) => {\n    if (currentStep < steps.length - 1) {\n      setDirection('forward');\n      setCurrentStep(currentStep + 1);\n      \n      const updatedFormData = { ...formData, [`step${currentStep + 1}`]: stepData };\n      setFormData(updatedFormData);\n\n      if (currentStep === 3) {\n        // Final step completed, trigger form submission\n        handleSubmit(updatedFormData);\n      }\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setDirection('backward');\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleSubmit = (finalFormData) => {\n    const dataToSubmit = {\n      step1: finalFormData.step1,\n      step2: finalFormData.step2,\n      step3: finalFormData.step3,\n      step4: finalFormData.step4\n\n    };\n    sendDataToBackend(dataToSubmit);\n  };\n\n  const steps = [\n    <Step1 onNext={(data) => handleNext(data)} data={formData.step1} />,\n    <Step2 onNext={(data) => handleNext(data)} onBack={handleBack} data={formData.step2} />,\n    <Step3 onNext={(data) => handleNext(data)} onBack={handleBack} data={formData.step3} />,\n    <Step4 onNext={(data) => handleNext(data)} onBack={handleBack} data={formData.step4} />,\n    <Step5 />\n  ];\n\n  useEffect(() => {\n    if (currentStep === 0) {\n      const timer = setTimeout(() => {\n        setShowImage(false);\n      }, 2000);\n      return () => clearTimeout(timer);\n    }\n  }, [currentStep]);\n\n  return (\n    <div className=\"multi-step-form-container\">\n      {showImage && currentStep === 0 && (\n        <div className=\"initial-image-container\">\n          <LazyLoadImage\n            src={initialImage}\n            alt=\"Initial Step\"\n            effect=\"blur\"\n            className={`initial-image ${!showImage ? 'hide' : ''}`}\n          />\n        </div>\n      )}\n      <TransitionGroup>\n        <CSSTransition\n          key={currentStep}\n          timeout={500}\n          classNames={direction === 'forward' ? 'slide-right' : 'slide-left'}\n        >\n          <div className=\"step\">\n            {steps[currentStep]}\n          </div>\n        </CSSTransition>\n      </TransitionGroup>\n    </div>\n  );\n};\n\nexport default MultiStepForm;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}